<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
<title>编写插件或集成库</title><link href="../zdoc.css" rel="stylesheet" type="text/css"/>
</head>
<body><a name="top"></a>
<div class="zdoc_header">编写插件或集成库</div>
<div class="zdoc_author"><em>By:</em><b>wendal</b><a href="mailto:wendal1985@gmail.com">&lt;wendal1985@gmail.com&gt;</a></div>
<div class="zdoc_body">
<ul class="zdoc_index_table">
<li>
<div><span class="num">1</span><a href="#nutzmore概述">nutzmore概述</a></div>
</li>
<li>
<div><span class="num">2</span><a href="#旗下的子模块分类">旗下的子模块分类</a></div>
</li>
<li>
<div><span class="num">3</span><a href="#插件加载规则">插件加载规则</a></div>
</li>
<li>
<div><span class="num">4</span><a href="#常用插件类型">常用插件类型</a></div>
</li>
<li>
<div><span class="num">5</span><a href="#提醒">提醒</a></div>
</li>
</ul>
<div class="hr"><b></b></div>
<h1><a name="nutzmore概述"></a>nutzmore概述</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>官网及源码地址 <a href="https://github.com/nutzam/nutzmore">nutzmore</a></p>
<p>为Nutz与其他框架的集成提供官方支持</p>
<p>请同时参考本手册及nutzmore中项目的README文档.</p>
<p>插件均发布到maven中央库,可以直接饮用</p>
<p>手动下载地址: https://jfrog.nutz.cn/artifactory/jcenter/org/nutz/</p>
<div class="hr"><b></b></div>
<h1><a name="旗下的子模块分类"></a>旗下的子模块分类</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<ul type="disc">
<li>插件类 -- 扩展nutz的功能,例如Dao缓存,Slog日志注解等</li>
<li>集成类 -- 集成Shiro,Beetl,Jedis,Activiti等第三方库</li>
</ul>
<div class="hr"><b></b></div>
<h1><a name="插件加载规则"></a>插件加载规则</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>部分插件可通过IocBy加载:</p>
<pre>@IocBy(args = {
           "*js","ioc/",
           "*anno", "net.wendal.nutzbook",
           "*quartz", <span class="zdoc_code_cmt">// 加载Quartz
</span>           "*activiti", <span class="zdoc_code_cmt">// 加载activiti
</span>           "*net.wendal.nutzbook.ioc.MyMarsLoader" <span class="zdoc_code_cmt">// 使用完整类名
</span>           })
</pre>
<p>其中, js和anno属于内置加载器,最后一个MyMarsLoader是完整类名,没什么可以讨论的.</p>
<p>quartz和activiti均为插件,它将依次查找</p>
<pre><span class="zdoc_code_cmt">// 查找 *quartz 对应的插件加载类
</span>org.nutz.integration.quartz.QuartzIocLoader <span class="zdoc_code_cmt">// 真实存在
</span>org.nutz.integration.quartz.QuartzAopConfigure
org.nutz.plugins.quartz.QuartzIocLoader
org.nutz.plugins.quartz.QuartzAopConfigure

<span class="zdoc_code_cmt">// 查找 *activiti 对应的插件加载类
</span>org.nutz.integration.activiti.ActivitiIocLoader <span class="zdoc_code_cmt">// 真实存在
</span>org.nutz.integration.activiti.ActivitiAopConfigure
org.nutz.plugins.activiti.ActivitiIocLoader
org.nutz.plugins.activiti.ActivitiAopConfigure
</pre>
<p>若以上类均不存在,将抛出ClassNotFound异常.</p>
<div class="hr"><b></b></div>
<h1><a name="常用插件类型"></a>常用插件类型</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<ul type="disc">
<li>第三方集成 -- 实现IocLoader接口.典型应用是nutz-integration-activiti</li>
<li>Mvc视图  -- 实现ViewMaker接口,典型应用是nutz-plugins-views</li>
<li>dao层扩展 -- 实现DaoInterceptor接口,典型应用是nutz-plugins-daocache</li>
<li>Mvc处理器 -- 实现Processor接口/继承AbstractProcessor,典型应用是nutz-integration-shiro中的NutShiroProcessor</li>
<li>Aop注解 -- 继承SimpleAopMaker,典型实现就是内置的AsyncAopIocLoader</li>
</ul>
<div class="hr"><b></b></div>
<h1><a name="提醒"></a>提醒</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>nutzmore下的项目代码量很少,建议先浏览源码熟悉一下逻辑</p>
<p>非常欢迎提交您的插件到nutzmore,或提供链接供我们关联.</p>
</div>
<div class="zdoc_footer"><em>By:</em><b>wendal</b><a href="mailto:wendal1985@gmail.com">&lt;wendal1985@gmail.com&gt;</a></div>
</body>
</html>