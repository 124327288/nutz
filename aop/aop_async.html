<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head><meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"/>
<title>异步执行</title><link href="../zdoc.css" rel="stylesheet" type="text/css"/>
</head>
<body><a name="top"></a>
<div class="zdoc_header">异步执行</div>
<div class="zdoc_author"><em>By:</em><b>wendal</b><a href="mailto:wendal1985@gmail.com">&lt;wendal1985@gmail.com&gt;</a></div>
<div class="zdoc_body">
<ul class="zdoc_index_table">
<li>
<div><span class="num">1</span><a href="#启用异步执行">启用异步执行</a></div>
</li>
<li>
<div><span class="num">2</span><a href="#用法">用法</a></div>
</li>
</ul>
<div class="hr"><b></b></div>
<h1><a name="启用异步执行"></a>启用异步执行</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>异步注解@Async,默认情况下是不生效的,需要的话可以启用.</p>
<p>该加载器有一个可选参数,线程池大小,默认是32,详情可以查阅org.nutz.aop.interceptor.async.AsyncAopIocLoader</p>
<pre>@IocBy(
    args={"*json","ioc/",
          "*anno","net.wendal.nutzbook",
          "*async", "128" <span class="zdoc_code_cmt">// 你只需要加上这一行,即可启用@Async注解. 128是线程池大小,可选
</span>	})
public class MainModule {}
</pre>
<div class="hr"><b></b></div>
<h1><a name="用法"></a>用法</h1>
<div style="float:right;"><a href="#top">Top</a></div>
<p>在public实例方法标注@Async, 前提是Ioc容器内的对象,例如标注了@IocBean或js/xml中声明了该对象</p>
<pre>@Async
public void sendEmail(....) {
}
</pre>
<p>通常来说,异步执行方法的返回值是没有意义的,为避免歧义,请尽量使用void作为返回值类型.</p>
</div>
<div class="zdoc_footer"><em>By:</em><b>wendal</b><a href="mailto:wendal1985@gmail.com">&lt;wendal1985@gmail.com&gt;</a></div>
</body>
</html>